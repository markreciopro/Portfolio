<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mark Recio â€” Data & Business Analyst</title>

  <!-- Inter font -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Three.js (loaded synchronously so animation script runs reliably) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

  <style>
    :root{
      --bg:#0E161B;
      --muted:#B2BCC9;
      --text:#E0E8E1;
      --neon-green:#39FF14;
      --neon-red:#FF073A;
      --neon-blue:#00C0FF;
      --neon-mustard:#FFDB58;
      --card:#1E2733;
      --pill:#2C3645;
    }
    html,body { height:100%; }
    body {
      margin:0;
      font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }

    /* Navigation pill styles */
    .nav-link{
      background-color:rgba(22,27,34,0.5);
      color:var(--text);
      font-weight:500;
      padding:.4rem 1.25rem;
      border-radius:9999px;
      transition:transform .22s cubic-bezier(.4,0,.2,1), background-color .22s, border-color .22s, color .22s;
      border:1px solid var(--neon-green);
      text-align:center;
      display:inline-block;
      white-space:nowrap;
      cursor:pointer;
    }
    .nav-link:hover{ background-color:var(--neon-blue); color:var(--bg); transform:scale(1.04); border-color:var(--neon-blue); }
    .nav-link.active{ background-color:var(--neon-red); color:var(--bg); border-color:var(--neon-red); pointer-events:none; }

    /* Cards and headers */
    .section-card { background:var(--card); padding:1.5rem; border-radius:.75rem; box-shadow:0 6px 18px rgba(0,0,0,.45); transition:transform .25s ease, box-shadow .25s ease; }
    .section-card:hover{ transform:translateY(-6px); box-shadow:0 16px 36px rgba(0,0,0,.55); }
    .section-header{ border-bottom:2px solid var(--neon-red); padding-bottom:.5rem; margin-bottom:1rem; color:var(--text); }

    /* color utilities */
    .job-title-highlight{ color:var(--neon-blue); }
    .work-experience-highlight{ color:var(--neon-red); }
    .python-name-color{ color:var(--neon-green); }
    .python-paren-color{ color:var(--neon-blue); }
    .analyzeo-neon-mustard{ color:var(--neon-mustard); }

    /* canvas background */
    #bg-canvas{ position:fixed; inset:0; width:100%; height:100%; z-index:-10; display:block; background:var(--bg); }

    /* tab content */
    .tab-content{ display:none; opacity:0; transition:opacity .45s ease; }
    .tab-content.active{ display:block; opacity:1; }

    /* small-screen nav */
    @media (max-width:767px){ .mobile-nav{ position:sticky; top:0; background:var(--bg); padding:.8rem 1rem; z-index:60; } }

    /* reduced motion */
    @media (prefers-reduced-motion: reduce){ *{ transition:none!important; animation:none!important } }

    img.profile { border-radius:.5rem; max-width:200px; width:100%; height:auto; display:block; margin:0 auto; }
    .resume-frame{ width:100%; height:600px; border:0; border-radius:.5rem; background:transparent; }

    /* accessibility focus */
    .nav-link:focus { outline:2px dashed var(--neon-blue); outline-offset:4px; }
  </style>
</head>
<body>

  <div class="flex flex-col md:flex-row min-h-screen">

    <!-- Mobile nav -->
    <nav class="mobile-nav md:hidden flex justify-center gap-2 p-4 overflow-x-auto" role="tablist" aria-label="Primary">
      <button class="nav-link" data-tab="summary" role="tab" aria-controls="tab-summary">Summary</button>
      <button class="nav-link" data-tab="experience" role="tab" aria-controls="tab-experience">Experience</button>
      <button class="nav-link" data-tab="education" role="tab" aria-controls="tab-education">Education</button>
      <button class="nav-link" data-tab="projects" role="tab" aria-controls="tab-projects">Projects</button>
      <button class="nav-link" data-tab="resume" role="tab" aria-controls="tab-resume">Resume</button>
      <button class="nav-link" data-tab="contact" role="tab" aria-controls="tab-contact">Contact</button>
    </nav>

    <!-- Left nav (desktop) -->
    <nav class="hidden md:flex fixed inset-y-0 left-0 w-56 bg-black/30 backdrop-blur-sm z-50 p-6 flex-col items-center gap-4" role="tablist" aria-label="Primary">
      <h1 class="text-2xl font-extrabold text-[var(--text)] text-center">Mark Anthony Recio</h1>
      <div class="flex flex-col gap-3 w-full items-center">
        <button class="nav-link active w-full" data-tab="summary" role="tab" aria-controls="tab-summary">Summary</button>
        <button class="nav-link w-full" data-tab="experience" role="tab" aria-controls="tab-experience">Experience</button>
        <button class="nav-link w-full" data-tab="education" role="tab" aria-controls="tab-education">Education</button>
        <button class="nav-link w-full" data-tab="projects" role="tab" aria-controls="tab-projects">Projects</button>
        <button class="nav-link w-full" data-tab="resume" role="tab" aria-controls="tab-resume">Resume</button>
        <button class="nav-link w-full" data-tab="contact" role="tab" aria-controls="tab-contact">Contact</button>
      </div>
    </nav>

    <!-- background canvas -->
    <canvas id="bg-canvas" aria-hidden="true"></canvas>

    <!-- main content -->
    <main class="flex-1 max-w-4xl mx-auto p-4 sm:p-6 md:p-8 lg:p-10 relative z-10 md:ml-56">

      <!-- SUMMARY -->
      <section id="tab-summary" class="tab-content active section-card" role="tabpanel" aria-labelledby="summary-section">
        <div class="text-center">
          <a href="https://ibb.co/bjcM1Vrf" target="_blank" rel="noopener noreferrer">
            <img loading="lazy" decoding="async" src="https://i.ibb.co/XfcrXPzw/Mark-Recio-Picture.jpg" alt="Mark Anthony Recio" class="profile mb-4" />
          </a>
          <p class="text-lg sm:text-xl mb-4">
            <span class="python-name-color font-semibold">Data & Business</span>
            <span class="python-paren-color font-semibold"> Analyst Professional</span>
            <span class="block text-sm mt-2">Las Vegas, NV</span>
          </p>
          <p class="text-[var(--muted)] leading-relaxed max-w-3xl mx-auto">
            Data-driven business and analytics professional with expertise in HR analytics, operations, and process optimization. Skilled at transforming complex data into actionable insights using Python, R, Power BI, Tableau, and SQL. Proven track record in forecasting trends, optimizing workflows, and delivering measurable business results.
          </p>
        </div>

        <h2 class="text-2xl font-bold section-header mt-8">Core Competencies</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="p-4 rounded-lg" style="background:var(--pill)">
            <h3 class="font-semibold text-lg text-[var(--neon-blue)] mb-1">Business Analysis</h3>
            <p class="text-[var(--muted)] text-sm">Strategic Planning, Project Coordination, Executive Reporting.</p>
          </div>
          <div class="p-4 rounded-lg" style="background:var(--pill)">
            <h3 class="font-semibold text-lg text-[var(--neon-red)] mb-1">Data & HR Analytics</h3>
            <p class="text-[var(--muted)] text-sm">Predictive Modeling, Data Visualization, Performance Metrics.</p>
          </div>
          <div class="p-4 rounded-lg" style="background:var(--pill)">
            <h3 class="font-semibold text-lg text-[var(--neon-green)] mb-1">Operations</h3>
            <p class="text-[var(--muted)] text-sm">Process Improvement, Workflow Optimization, Payroll Coordination.</p>
          </div>
        </div>
      </section>

      <!-- EXPERIENCE -->
      <section id="tab-experience" class="tab-content section-card py-6 px-4 mb-8" role="tabpanel" aria-labelledby="experience-section">
        <h2 class="text-2xl font-bold section-header">Professional Experience</h2>
        <div class="space-y-8">
          <div>
            <div class="flex flex-col sm:flex-row sm:justify-between items-baseline mb-1">
              <h3 class="job-title job-title-highlight font-semibold">Operations Manager Assistant</h3>
              <span class="text-sm text-[var(--muted)]">Oct 2018 - Aug 2023</span>
            </div>
            <p class="company-name mb-2"><span class="work-experience-highlight font-semibold">Bella Brite Services</span> | Las Vegas, NV</p>
            <ul class="list-disc list-inside text-[var(--text)] text-sm pl-4 space-y-2">
              <li>Managed staffing, scheduling, and event logistics for over 50 employees using Microsoft 365, ensuring seamless operations.</li>
              <li>Coordinated and processed payroll, maintaining strict compliance and using <strong>Excel</strong> to generate comprehensive reports for leadership.</li>
              <li>Spearheaded process improvement initiatives that led to a significant increase in productivity and efficiency.</li>
              <li>Analyzed KPIs to identify opportunities and implement data-driven strategies that boosted business outcomes.</li>
            </ul>
          </div>

          <div>
            <div class="flex flex-col sm:flex-row sm:justify-between items-baseline mb-1">
              <h3 class="job-title job-title-highlight font-semibold">Contractor</h3>
              <span class="text-sm text-[var(--muted)]">Aug 2023 - Present</span>
            </div>
            <p class="company-name mb-2">
              <span class="work-experience-highlight font-semibold"><span style="color:var(--neon-red)">Analyzeo</span><span class="analyzeo-neon-mustard"> ( )</span></span> | Las Vegas, NV
            </p>
            <ul class="list-disc list-inside text-[var(--text)] text-sm pl-4 space-y-2">
              <li>Built predictive recruitment models using <strong>Python</strong> and <strong>R</strong> to optimize talent acquisition strategies.</li>
              <li>Designed and deployed interactive <strong>Power BI</strong> dashboards for HR and marketing stakeholders to drive decision-making.</li>
              <li>Forecasted trends and recommended resource allocations that improved efficiency and reduced costs.</li>
            </ul>
          </div>
        </div>

        <div class="mt-6 text-center">
          <a href="https://ibb.co/xt0xYnCt" target="_blank" rel="noopener noreferrer"><img loading="lazy" decoding="async" src="https://i.ibb.co/mVwf0nDV/Analyzeo.jpg" alt="Analyzeo logo" style="max-width:240px" /></a>
        </div>
      </section>

      <!-- EDUCATION -->
      <section id="tab-education" class="tab-content section-card py-6 px-4 mb-8" role="tabpanel" aria-labelledby="education-section">
        <h2 class="text-2xl font-bold section-header">Education & Certifications</h2>
        <div class="space-y-6">
          <div>
            <h3 class="font-semibold text-lg text-[var(--text)]">Education</h3>
            <ul class="list-disc list-inside text-sm text-[var(--text)] pl-4 space-y-1">
              <li>MBA â€” Keller Graduate School of Management, Fremont, CA</li>
              <li>Graduate Certificate, Strategic Innovation & Change â€” University of Denver, CO</li>
              <li>B.S., Technical Management â€” DeVry University, Fremont, CA</li>
            </ul>
          </div>

          <div>
            <h3 class="font-semibold text-lg text-[var(--text)]">Upskilled Certifications</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-sm text-[var(--muted)]">
              <div class="p-3 rounded-lg" style="background:var(--pill)">Human Resources Professional with Payroll Practice and Management â€” State of Nevada</div>
              <div class="p-3 rounded-lg" style="background:var(--pill)">Google Data Analytics â€” Google (Coursera)</div>
              <div class="p-3 rounded-lg" style="background:var(--pill)">IBM Data Science Professional â€” IBM (Coursera)</div>
              <div class="p-3 rounded-lg" style="background:var(--pill)">Power BI Data Analyst Associate â€” Microsoft</div>
              <div class="p-3 rounded-lg" style="background:var(--pill)">Tableau Business Intelligence Analyst â€” Tableau</div>
              <div class="p-3 rounded-lg" style="background:var(--pill)">Business Analytics â€” University of Illinois (Coursera)</div>
              <div class="p-3 rounded-lg" style="background:var(--pill)">Accounting Data Analytics â€” University of Illinois (Coursera)</div>
              <div class="p-3 rounded-lg" style="background:var(--pill)">Finance Data Analytics â€” University of Illinois (Coursera)</div>
              <div class="p-3 rounded-lg" style="background:var(--pill)">Financial Analysis â€” University of Illinois (Coursera)</div>
            </div>
          </div>

          <div class="mt-4 text-center">
            <a href="https://markareciocareerpath.my.canva.site/education-certifications" target="_blank" rel="noopener noreferrer" class="inline-block bg-[var(--neon-red)] text-[var(--bg)] font-semibold py-2 px-6 rounded-full transition-transform hover:scale-105">View Credentials</a>
          </div>
        </div>
      </section>

      <!-- PROJECTS -->
            <section id="tab-projects" class="tab-content py-6 px-4 mb-12 section-card" role="tabpanel" aria-labelledby="projects-section">
                <h2 class="text-2xl font-bold section-header">Projects</h2>
                
                <div class="space-y-12">
                    <!-- Python Project -->
                    <div>
                        <h3 class="text-xl font-bold text-[#FF073A] mb-2">Python Project (Avoxi Billing Analysis)</h3>
                        <p id="python-project-text" class="text-[#E0E8E1] leading-relaxed">
                            This project demonstrates my ability to use <strong>Python</strong> for sophisticated data analysis and reporting. I developed a solution to analyze complex billing data, identifying key financial insights and providing actionable recommendations.
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-[#E0E8E1] text-sm pl-4 mt-4">
                            <li class="list-item">Utilized <strong>Python</strong> libraries like <strong>Pandas</strong> to consolidate and clean fragmented billing data from various sources into a single master dataset.</li>
                            <li class="list-item">Conducted in-depth analysis to uncover discrepancies, such as low gross margins and overbilling from specific vendors, which were hidden in the raw data.</li>
                            <li class="list-item">Created comprehensive reports and visualizations using <strong>Matplotlib</strong> and <strong>Seaborn</strong> to present key findings on vendor performance and client rates to stakeholders.</li>
                            <li class="list-item">Developed a process to automate data analysis workflows, enabling faster and more accurate reporting for strategic decision-making.</li>
                        </ul>
                                             <a href="https://www.canva.com/design/DAG2oSq-RU8/Rab_1KlUjw-md_9wp7vcoA/view?utm_content=DAG2oSq-RU8&utm_campaign=designshare&utm_medium=link2&utm_source=uniquelinks&utlId=h98e20aba5b" target="_blank" class="w-full sm:w-auto text-[#00C0FF] hover:underline font-semibold text-center">
                                Python Presentation Project
                            </a>
                    </div>
                    
                    <div>
                        <h3 class="text-xl font-bold text-[#00C0FF] mb-2">Power BI Project</h3>
                        <p id="powerbi-project-text" class="text-[#E0E8E1] leading-relaxed">
                            This project demonstrates my expertise in using <strong>Power BI</strong> to build a dynamic and insightful dashboard for business intelligence. I focused on connecting multiple data sources, cleaning and transforming raw data with Power Query, and designing interactive visualizations that provide actionable insights. The dashboard allows stakeholders to explore key business metrics, identify trends, and make data-driven decisions at a glance.
                        </p>
                        <div class="mt-8 text-center">
                             <a href="https://www.canva.com/design/DAGxAueHJUU/LQQDcIK9_2qK8kzVdojmkg/edit?utm_content=DAGxAueHJUU&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton" target="_blank" class="w-full sm:w-auto text-[#00C0FF] hover:underline font-semibold text-center">
                                Power BI Project
                            </a>
                        </div>
                    </div>
                    
                    <!-- MySQL Project -->
                    <div>
                        <h3 class="text-xl font-bold text-[#FF073A] mb-2">MySQL Project</h3>
                        <p class="text-[#E0E8E1] leading-relaxed mb-6">
                            In this project, I designed and managed a relational database using <strong>MySQL</strong> to track and analyze sales data. I created a robust schema with multiple tables and used a variety of complex SQL queries, including JOINs, subqueries, and aggregate functions, to extract meaningful business insights. The project demonstrates my ability to not only store data efficiently but also to query it effectively for reporting and strategic analysis.
                        </p>
                        <div class="mt-8 text-center">
                            <a href="https://www.canva.com/design/DAGxNVIG9ks/BvynwaUZ2YjUIfL6xCjCbQ/edit?utm_content=DAGxNVIG9ks&utm_campaign=designshare&utm_medium=link2&utm_source=sharebutton" target="_blank" class="text-[#FF073A] hover:underline font-semibold">
                                MySQL Project Presentation
                            </a>
                        </div>
                    </div>

                    <!-- Marketing Analytics Project -->
                    <div>
                        <h3 class="text-xl font-bold text-[#00C0FF] mb-2">Marketing Analytics Project</h3>
                        <p class="text-[#E0E8E1] leading-relaxed">
                            This project focuses on leveraging data to improve website performance and marketing strategies. It involved using analytical tools and techniques to understand user behavior, optimize content, and increase conversion rates.
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-[#E0E8E1] text-sm pl-4 mt-4">
                            <li class="list-item">Improved SEO marketing by creating a new article with unique keywords.</li>
                            <li class="list-item">Proposed a diagnostic assessment to improve website time, conversion rate, and lower bounce rate.</li>
                            <li class="list-item">Conducted Hypothesis Testing and <strong>A/B Testing</strong> by creating two simple websites to study web behavior and determine which site drives more engagement and conversion.</li>
                            <li class="list-item">Analyzed demographic data to find statistically significant differences in user behavior.</li>
                        </ul>
                        <div class="mt-8 text-center">
                            <a href="https://pdf.ac/jtd86A-H" target="_blank" class="text-[#00C0FF] hover:underline font-semibold">
                                View Project PDF
                            </a>
                        </div>
                    </div>
                    
                    <!-- HR Analytics Project -->
                    <div>
                        <h3 class="text-xl font-bold text-[#39FF14] mb-2">HR Analytics Project</h3>
                        <p class="text-[#E0E8E1] leading-relaxed mb-6">
                            This project is a comprehensive <strong>HR analytics</strong> solution built using <strong>Python</strong>. It features a script for <strong>resume parsing</strong>, which automates the extraction of key information from resumes to streamline the recruitment process. The solution also includes a predictive model to forecast employee attrition, providing data-driven insights that help with talent management and retention.
                        </p>
                        <div class="mt-8 text-center">
                            <a href="https://markareciocareerpath.my.canva.site/dagywh-tzq" target="_blank" class="text-[#39FF14] hover:underline font-semibold">
                                HR Analytics Project Presentation
                            </a>
                        </div>
                        </div>
                    </div>
                </section>
      <!-- RESUME -->
      <section id="tab-resume" class="tab-content section-card py-6 px-4 mb-8" role="tabpanel" aria-labelledby="resume-section">
        <h2 class="text-2xl font-bold section-header">Resume</h2>
        <p class="text-[var(--muted)] mb-4">Download the most recent resume.</p>

        <div class="flex flex-col sm:flex-row items-center gap-4"> 
        </div>

        <div id="resume-preview" class="mt-6 w-full" aria-hidden="true" style="display:none;">
          <iframe id="resume-frame" class="resume-frame" title="Mark Anthony Recio Resume (PDF)" src="" loading="lazy"></iframe>
        </div>
<a href="https://mark-anthony-recio-resume-dot-bullets-2.tiiny.site"><img src="https://i.ibb.co/nNYbwpvk/Mark-Anthony-Recio-Resume-Dot-Bullets-2.jpg" alt="Mark-Anthony-Recio-Resume-Dot-Bullets-2" border="0"></a> </section>

      <!-- CONTACT -->
      <section id="tab-contact" class="tab-content section-card py-6 px-4 mb-8" role="tabpanel" aria-labelledby="contact-section">
        <h2 class="text-2xl font-bold section-header">Contact Information</h2>
        <div class="text-center text-lg text-[var(--text)]">
          <a href="tel:+17027147389" class="hover:underline mx-2 font-bold text-[var(--neon-red)]" aria-label="Call (702) 714-7389">(702) 714-7389</a>
          <span class="font-bold text-[var(--muted)] mx-2">|</span>
          <a href="mailto:analyzeo@proton.me" class="hover:underline mx-2 font-bold text-[var(--neon-blue)]">analyzeo@proton.me</a>
        </div>
      </section>

      <footer class="text-center text-sm text-[var(--muted)] mt-8 py-4">&copy; 2023 Mark Anthony Recio. All Rights Reserved.</footer>
    </main>
  </div>

  <!-- Inline script: animation + tabs + resume logic -->
  <script>
  (function(){
    // ---------- CONFIG ----------
    // Use the uploaded file path. If you move the file to public hosting, replace this with that URL.
    const RESUME_URL = 'sandbox:/mnt/data/Mark_Anthony_Recio_Resume_Dot_Bullets-2.pdf';

    const CODE_SNIPPETS = [
      "import analyzeo as az","az.data_transform(df)","az.visualize_trends(data)",
      "az.optimize_process(metrics)","az.predict_outcomes(model)","az.strategic_plan(insights)",
      "from analyzeo.operations import automate","from analyzeo.analytics import forecast",
      "df = az.read_source('sales.csv')","result = az.report(df)","data_warehouse = az.connect('db.sql')",
      "analytics_pipeline = az.build_pipeline()","analyzeo.core.model.predict(X_test)"
    ];
    const LOGO_SNIPPETS = ["Analyzeo()"];
    const NEON_COLORS = ["#39FF14","#FF073A","#00C0FF"];
    const REDUCED_MOTION = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const CODE_COUNT = Math.max(60, Math.floor(window.innerWidth / 12));
    const LOGO_COUNT = 6;

    // ---------- THREE.JS SETUP ----------
    let scene, camera, renderer, codeSprites = [], logoSprites = [], rafId = null;
    let mouseX = 0, mouseY = 0, halfX = window.innerWidth/2, halfY = window.innerHeight/2;

    function initThree(){
      if(typeof THREE === 'undefined') return;
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 4000);
      camera.position.z = 400;

      const DPR = Math.min(window.devicePixelRatio || 1, 1.5);
      renderer = new THREE.WebGLRenderer({ antialias:true, alpha:true, canvas:document.getElementById('bg-canvas') });
      renderer.setPixelRatio(DPR);
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setClearColor(0x0E161B, 1);

      createTextSprites(CODE_COUNT, CODE_SNIPPETS, 12, 0.45, NEON_COLORS, codeSprites);
      createTextSprites(LOGO_COUNT, LOGO_SNIPPETS, 22, 0.8, ["#FFDB58"], logoSprites);

      window.addEventListener('resize', onResize, { passive:true });
      if(!REDUCED_MOTION) document.addEventListener('mousemove', onMouseMove, { passive:true });

      renderer.render(scene, camera);
    }

    function createTextSprites(count, snippets, fontPx, scaleFactor, colors, targetArr){
      for(let i=0;i<count;i++){
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        const text = snippets[Math.floor(Math.random()*snippets.length)];
        const font = `${fontPx}px Inter, sans-serif`;
        ctx.font = font;
        const metrics = ctx.measureText(text);
        const w = Math.ceil(metrics.width) + 12;
        const h = Math.ceil(fontPx*1.4) + 8;
        canvas.width = w; canvas.height = h;
        ctx.font = font; ctx.textBaseline = 'top';
        ctx.fillStyle = colors[Math.floor(Math.random()*colors.length)];
        ctx.fillText(text, 6, 3);

        const texture = new THREE.CanvasTexture(canvas);
        texture.needsUpdate = true;
        texture.minFilter = THREE.LinearFilter;
        texture.magFilter = THREE.LinearFilter;
        const material = new THREE.SpriteMaterial({ map:texture, transparent:true, opacity:0.95 });
        const sprite = new THREE.Sprite(material);
        sprite.scale.set(w * scaleFactor, h * scaleFactor, 1);
        sprite.position.set((Math.random()*2000)-1000, (Math.random()*1000)-500, (Math.random()*2000)-1000);
        sprite.userData = { speedZ:0.15 + Math.random()*0.7, rotSpeed:(Math.random()*0.005)-0.0025 };
        scene.add(sprite);
        targetArr.push(sprite);
      }
    }

    function onMouseMove(e){ mouseX = (e.clientX - halfX) * 0.002; mouseY = (e.clientY - halfY) * 0.002; }
    function onResize(){ halfX = window.innerWidth/2; halfY = window.innerHeight/2; if(camera && renderer){ camera.aspect = window.innerWidth/window.innerHeight; camera.updateProjectionMatrix(); renderer.setSize(window.innerWidth, window.innerHeight); } }

    function animate(){
      if(REDUCED_MOTION){ renderer.render(scene,camera); return; }
      rafId = requestAnimationFrame(animate);
      camera.position.x += (mouseX*80 - camera.position.x) * 0.04;
      camera.position.y += (-mouseY*40 - camera.position.y) * 0.04;
      camera.lookAt(scene.position);

      codeSprites.forEach(s=>{
        s.position.z += s.userData.speedZ;
        s.rotation.z += s.userData.rotSpeed;
        if(s.position.z > camera.position.z + 200){
          s.position.z = -1200 + (Math.random()*400);
          s.position.x = (Math.random()*2000)-1000;
          s.position.y = (Math.random()*1000)-500;
        }
      });
      logoSprites.forEach(s=>{
        s.position.z += s.userData.speedZ * 0.45;
        s.rotation.z += s.userData.rotSpeed;
        if(s.position.z > camera.position.z + 200){
          s.position.z = -1200 + (Math.random()*400);
          s.position.x = (Math.random()*2000)-1000;
          s.position.y = (Math.random()*1000)-500;
        }
      });

      renderer.render(scene, camera);
    }

    function startThree(){
      if(!scene) initThree();
      if(renderer && scene && camera){ renderer.render(scene, camera); if(!REDUCED_MOTION) animate(); }
    }

    // ---------- Tabs ----------
    function initTabs(){
      const buttons = Array.from(document.querySelectorAll('.nav-link'));
      const panels = Array.from(document.querySelectorAll('.tab-content'));

      function activate(tabId){
        buttons.forEach(b => b.classList.remove('active'));
        panels.forEach(p => { p.classList.remove('active'); p.style.display = 'none'; p.setAttribute('aria-hidden','true'); });

        const btn = buttons.find(b => b.dataset.tab === tabId);
        if(btn){ btn.classList.add('active'); btn.setAttribute('aria-selected','true'); btn.focus?.(); }
        const panel = document.getElementById('tab-' + tabId);
        if(panel){ panel.style.display = 'block'; setTimeout(()=>panel.classList.add('active'), 20); panel.setAttribute('aria-hidden','false'); panel.focus?.(); }
      }

      buttons.forEach(btn=>{
        btn.addEventListener('click', ()=>{ activate(btn.dataset.tab); startThree(); });
        btn.addEventListener('keydown', e=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); btn.click(); } });
      });

      activate('summary');
    }

    // ---------- Resume preview & download ----------
    function initResumeControls(){
      const downloadBtn = document.getElementById('download-resume');
      const previewToggle = document.getElementById('preview-toggle');
      const previewContainer = document.getElementById('resume-preview');
      const iframe = document.getElementById('resume-frame');
      let previewLoaded = false;

      // download handler: try to fetch file -> blob -> download; fallback to opening URL
      downloadBtn.addEventListener('click', async (e) => {
        e.preventDefault();
        downloadBtn.setAttribute('aria-busy', 'true');
        try {
          // Try to fetch the resume path
          const resp = await fetch(RESUME_URL);
          if(!resp.ok) throw new Error('Network response not ok');
          const blob = await resp.blob();
          const blobUrl = URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.href = blobUrl;
          a.download = 'Mark_Anthony_Recio_Resume.pdf';
          document.body.appendChild(a);
          a.click();
          a.remove();
          URL.revokeObjectURL(blobUrl);
        } catch (err) {
          // Fallback: open the URL in a new tab/window
          console.warn('Fetch/download failed, opening file instead:', err);
          try {
            window.open(RESUME_URL, '_blank');
          } catch(openErr) {
            alert('Could not download or open the resume. If you are testing locally, consider hosting the PDF on a web server or updating the RESUME_URL to a public URL.');
          }
        } finally {
          downloadBtn.removeAttribute('aria-busy');
        }
      });

      // preview toggle (lazy loads iframe src)
      previewToggle.addEventListener('click', () => {
        const isExpanded = previewToggle.getAttribute('aria-expanded') === 'true';
        previewToggle.setAttribute('aria-expanded', String(!isExpanded));
        if(!isExpanded){
          previewContainer.style.display = 'block';
          previewContainer.setAttribute('aria-hidden', 'false');
          previewToggle.textContent = 'Hide preview';
          if(!previewLoaded){
            iframe.src = RESUME_URL;
            previewLoaded = true;
          }
          iframe.focus?.();
        } else {
          previewContainer.style.display = 'none';
          previewContainer.setAttribute('aria-hidden', 'true');
          previewToggle.textContent = 'Preview in page';
        }
      });
    }

    // ---------- Lazy start (first user gesture or timeout) ----------
    let started = false;
    function lazyStart(){
      if(started) return;
      started = true;
      // ensure THREE is available (we included it synchronously)
      setTimeout(() => startThree(), 250);
    }

    // ---------- DOM Ready ----------
    document.addEventListener('DOMContentLoaded', () => {
      initTabs();
      initResumeControls();

      // Start Three.js after a gesture or after 1s
      const gestures = ['scroll','mousemove','touchstart','pointerdown','keydown'];
      const handler = () => { lazyStart(); gestures.forEach(g => window.removeEventListener(g, handler)); };
      gestures.forEach(g => window.addEventListener(g, handler, { passive:true }));
      setTimeout(()=>lazyStart(), 1000);

      // cleanup on unload
      window.addEventListener('beforeunload', () => { if(rafId) cancelAnimationFrame(rafId); });
    });
  })();
  </script>
</body>
</html>
